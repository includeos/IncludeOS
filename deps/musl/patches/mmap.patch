diff --git a/src/mman/mmap.c b/src/mman/mmap.c
index 43e5e029..43307692 100644
--- a/src/mman/mmap.c
+++ b/src/mman/mmap.c
@@ -36,4 +36,15 @@ void *__mmap(void *start, size_t len, int prot, int flags, int fd, off_t off)
 	return (void *)__syscall_ret(ret);
 }
 
-weak_alias(__mmap, mmap);
+void *__includeos_mmap(void *start, size_t len, int prot, int flags, int fd, off_t off)
+{
+	long ret;
+	if (flags & MAP_FIXED) {
+		__vm_wait();
+	}
+	ret = __syscall(SYS_mmap, start, len, prot, flags, fd, off);
+
+	return (void *) ret;
+}
+
+weak_alias(__includeos_mmap, mmap);
